# 얕은 복사와 깊은 복사 Shallow Copy & Deep Copy

> Python은 항상 객체의 주소값을 들고온다.

복사 방법 3가지 

- 할당 (assignment)

- 얕은 복사 (shallow copy)

- 깊은 복사 (deep copy)

## 할당

할당 연산자(=)

> 할당해서 둘 중 하나만 바꿨는데 둘 다 바뀌네?

대입 연산자를 통한 복사는 **해당 객체에 대한 객체 참조를 복사**한다.

## 얕은 복사

복사하는 리스트의 원소가 주소를 참조하는 경우를 얕은 복사라고 한다.

### 주의사항

- 일반적인 데이터와 데이터를 모아놓은 형태는 파이썬이 다르게 관리한다.

- 데이터를 한 데 모아놓은 그곳의 주소를 저장하는 얕은 복사가 일어나게 됨.

- 반면, 일반적인 하나의 데이터의 경우에는 값의 복사가 일어남.

```python
a = 3
b = 4

b = a
print(f'a = {a}, b = {b}')

a = 5
print(f'a = {a}, b = {b}') # 왜 얕은 복사가 안됐을까?
```

### 얕은복사 해결책

- Slice 연산자 활용하면, 결과를 복사(다른 주소)

- 결과를 복사해서 다른 객체를 만들고 참조함.

- 1차원 리스트만 복사하고, 2차원 리스트는 참조를 복사한다.

> Deep Copy를 써서 얕은복사를 해결하자.

## 깊은 복사

깊은 복사는 객체를 복사해서 다른 메모리에 저장한다.

```python
import copy # copy 모듈

a = [1, 2, ['a','b']]
b = copy.deepcopy(a) # deepcopy 함수

b[2][0] = 0

print(a, b) # [1, 2, ['a', 'b']], [1, 2, [0, 'b']]
```

> list를 복사할 때 deepcopy를 써야겠다.

### 깊은 복사 단점

깊은 복사는 메모리를 2배로 사용하기 때문에, 
코딩 테스트에서는 선택적으로 활용해야 한다.