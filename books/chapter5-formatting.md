# 5장 형식 맞추기

## 형식을 맞추는 목적

> 오늘 구현한 코드의 형식은 계속된다. 구현한 기능이 변하더라도, 코드의 구현 스타일과 가독성 수준은 유지보수 용이성과 확장성에 계속 영향을 미친다. 원래 코드가 사라질지라도 개발자의 스타일과 규율은 사라지지 않는다. (p.96)
>

## 적절한 행 길이를 유지하라

> 소스 코드는 얼마나 길어야 적당할까?
일반적으로 큰 파일보다 작은 파일이 이해하기 쉽다. (p.97)
>

### 신문 기사처럼 작성하라

> 이름은 간단하면서도 설명이 가능하게. 이름만 보고도 올바른 모듈을 살펴보고 있는지 아닌지를 판단할 정도로 신경써서 짓는다.
소스 파일 첫 부분은 고차원 개념과 알고리즘을 설명한다.
아래로 내려갈수록 의도를 세세하게 묘사한다.
마지막에는 가장 저차원 함수와 세부 내역이 나온다. (p.98)
>

> 신문은 다양한 기사로 이뤄진다.
대다수 기사가 아주 짧다.
어떤 기사는 조금 길다.
한 면을 채우는 기사는 거의 없다.
신문이 읽을 만한 이유는 여기에 있다. (p.98)
>

### 개념은 빈 행으로 분리하라

> 각 행은 수식이나 절을 나타내고, 일련의 행 묶음은 완결된 생각 하나를 표현한다. 생각 사이에는 빈 행을 넣어 분리해야 마땅하다. (p.98)
>
- 행을 의도적으로 분리하는 습관이 필요하다.
Enter 한 번 누르는 것에도 생각이 있어야 한다.

> 빈 행은 새로운 개념을 시작한다는 시각적 단서다. 코드를 읽어 내려가다 보면 빈 행 바로 다음 줄에 눈길이 멈춘다. (p.98)
>

### 세로 밀집도

> 세로 밀집도는 연관성을 의미한다. 즉, 서로 밀접한 코드 행은 세로로 가까이 놓여야 한다. (p.100)
>

### 수직 거리

> 서로 밀접한 개념은 세로로 가까이 둬야 한다. (p.101)
>

#### 변수 선언

> 변수는 사용하는 위치에 최대한 가까이 선언한다.
지역변수는 각 함수 맨 처음에 선언한다.
루프를 제어하는 변수는 흔히 루프 문 내부에 선언한다. (p.102)
>

#### 인스턴스 변수

> 인스턴스 변수는 클래스 맨 처음에 선언한다. 변수 간에 세로로 거리를 두지 않는다. 잘 설계한 클래스는 많은 클래스 메서드가 인스턴스 변수를 사용하기 때문이다. (p.103)
>

> 일반적으로 C++에서는 모든 인스턴스 변수를 클래스 마지막에 선언한다.
반면 JAVA에서는 보통 클래스 맨 처음에 인스턴스 변수를 선언한다.
잘 알려진 위치에 인스턴스 변수를 모은다는 사실이 중요하다. (p.103)
>
- 클래스 변수, 인스턴스 변수, 지역 변수
    - 클래스 변수는 클래스 영역에서 선언되고 static으로 선언된다. public을 붙이면 전역 변수가 된다.
    - 인스턴스 변수는 클래스 영역에서 선언된다.
    - 지역 변수는 함수, 메서드에서 선언된다.

#### 종속 함수

> 한 함수가 다른 함수를 호출한다면 두 함수는 세로로 가까이 배치한다. 호출하는 함수를 호출되는 함수보다 먼저 배치한다. 그러면 프로그램이 자연스럽게 읽힌다. (p.104)
>

#### 개념적 유사성

> 개념적 친화도가 높은 코드를 서로를 끌어당긴다. 친화도가 높을수록 코드를 가까이 배치한다.
친화도가 높은 요인은 여러가지가 있다. 비슷한 동작을 수행하는 일군의 함수가 좋은 예다. (p.106)
>

### 세로 순서

> 소스 코드 모듈이 고차원에서 저차원으로 자연스럽게 내려가도록 한다.
가장 중요한 개념을 가장 먼저 표현한다. 가장 중요한 개념을 표현할 때는 세세한 사항을 최대한 배제한다. 세세한 사항은 가장 마지막에 표현한다.
그러면 독자가 소스 파일에서 첫 함수 몇 개만 읽어도 개념을 파악하기 쉬워진다. (p.107)
>

## 가로 형식 맞추기

> 한 행은 가로로 얼마나 길어야 적당할까?
프로그래머들은 명백히 짧은 행을 선호한다. 그러므로 짧은 행이 바람직하다.
120자 정도로 행 길이를 제한하자. (p.108)
>

### 가로 공백과 밀집도

- 쉼표, 띄어쓰기를 이용해서 요소의 관계를 나타낼 수 있다.
다음은 관계를 나타내는 예시
    - 연산자를 강조
    - 함수와 인수 관계
    - 인수간의 관계
    - 연산자 우선순위 강조

### 가로 정렬

> 가로 정렬은 별로 유용하지 못하다. 코드가 엉뚱한 부분을 강조해 진짜 의도가 가려지기 때문이다. (p.110)
>

> 정렬이 필요할 정도로 목록이 길다면 문제는 목록 길이지 정렬 부족이 아니다. (p.110)
>

### 들여쓰기

> 범위로 이뤄진 계층을 표현하기 위해 우리는 코드를 들여쓴다. 들여쓰는 정도는 계층에서 코드가 자리잡은 수준에 비례한다.
프로그래머는 이런 들여쓰기 체계에 크게 의존한다. 들여쓰기가 없다면 인간이 코드를 읽기란 거의 불가능하다. (p.111)
>

#### 들여쓰기 무시하기

> 때로는 간단한 if 문, 짧은 while 문, 짧은 함수에서 들여쓰기 규칙을 무시하고픈 유혹이 생긴다. 이런 유혹이 생길 때마다 나는 항상 원점으로 돌아가 들여쓰기를 넣는다. (p.112)
>

### 가짜 범위

빈 while 문이나 for 문은 알아차리기 쉽지 않다. 세미콜론은 새 행에다 제대로 들여써서 넣어준다.

## 팀 규칙

> 프로그래머라면 각자 선호하는 규칙이 있다. 하지만 팀에 속한다면 자신이 선호해야 할 규칙은 바로 팀 규칙이다. (p.113)
>

> 어디에 괄호를 넣을지, 들여쓰기는 몇 자로 할지, 클래스와 변수와 메서드 이름은 어떻게 지을지 등을 결정한다. (p.114)
>

## 밥 아저씨의 형식 규칙
