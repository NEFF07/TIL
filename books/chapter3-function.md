## **오늘 읽은 범위**

3장 함수

## **기억하고 싶은 내용**

> if 문/else 문/while 문 등에 들어가는 블록은 한 줄이어야 한다. 대개 거기서 함수를 호출한다. 그러면 바깥을 감싸는 함수가 작아질 뿐 아니라, 블록 안에서 호출하는 함수 이름을 적절히 짓는다면, 코드를 이해하기도 쉬워진다. (p.44)
>

> 지정된 함수 이름 아래에서 추상화 수준이 하나인 단계만 수행한다면 그 함수는 한 가지 작업만 한다. (중략) 함수가 ‘한 가지’만 하는지 판단하는 방법이 하나 더 있다. 단순히 다른 표현이 아니라 의미 있는 이름으로 다른 함수를 추출할 수 있다면 그 함수는 여러 작업을 하는 셈이다. (p.45)
>

> 한 함수 내에 추상화 수준을 섞으면 코드를 읽는 사람이 헷갈린다. 특정 표현이 근본 개념인지 아니면 세부사항인지 구분하기 어려운 탓이다. 하지만 문제는 이 정도로 그치지 않는다. 근본 개념과 세부사항을 뒤섞기 시작하면, 깨어진 창문처럼 사람들이 함수에 세부사항을 점점 더 추가한다. (p.46)
>

> 코드는 위에서 아래로 이야기처럼 읽혀야 좋다. 한 함수 다음에는 추상화 수준이 한 단계 낮은 함수가 온다. (p.46)
>

> ‘SetupTeardownIncluder’, ‘includesetupAndTeardownPages’ 등과 같은 서술적인 이름을 사용해라. 길고 서술적인 이름이 짧고 어려운 이름보다 좋다. 길고 서술적인 이름이 길고 서술적인 주석보다 좋다. (p.49)
>

> 이름을 붙일 때는 일관성이 있어야 한다. 모듈 내에서 함수 이름은 같음 문구, 명사, 동사를 하용한다. ‘includeSetupAndTeardownPages’ , ‘includeSetupPages’, ‘includeSuiteSetupPage’, ‘includeSetupPage’ 등이 좋은 예다. 문체가 비슷하면 이야기를 순차적으로 풀어가기도 쉬워진다. (p.50)
>

> 함수에서 이상적인 인수 개수는 0개다. 다음은 1개고, 다음은 2개다. 3개는 가능한 피하는 편이 좋다. 4개 이상은 특별한 이유가 필요하다. 특별한 이유가 있어도 사용하면 안 된다. (p.50)
>

> 인수는 개념을 이해하기 어렵게 만든다. (p.50)
>

> 최선은 입력 인수가 없는 경우이며, 차선은 입력 인수가 1개뿐인 경우다. (p.51)
>

> 함수에 인수 1개를 넘기는 가장 흔한 경우 두 가지.
1. 인수에 질문을 던지는 경우
boolean fileExists(”MyFile”)
2. 인수를 뭔가로 변환해 결과를 반환하는 경우
InputStream fileOpen(”MyFile”)은 String 형의 파일 이름을 InputStream으로 변환한다. (p.51)
>

> 함수의 의도나 인수의 순서와 의도를 제대로 표현하려면 좋은 함수 이름이 필요수다.
단항 함수는 함수와 인수가 동사/명사 쌍을 이뤄야 한다. 예를 들어 write(name)를 사용하면 누구나 이해할 수 있다.
함수 이름에 키워드를 추가할 수도 있다. 예를 들어 assertExpectedEqualsActual(expected, actual)을 사용하면 인수 순서를 기억할 필요가 없어진다. (p. 54)
>

> 함수 선언부를 찾아보는 행위는 코드를 보다가 주춤하는 행위와 동급이다. 인지적으로 거슬린다는 뜻이므로 피해야 한다. (p.56)
>

> break나 continue는 주의해서 사용해야 한다. 다만 작은 함수일 경우에는 괜찮다. goto는 큰 함수에서만 의미가 있으므로, 작은 함수에서는 피해야만 한다. (p.61)
>

> 함수를 짜는 것은 글쓰기와 비슷하다. 초안을 작성할 땐, 그저 정보들을 나열하고, 문장이 어색하게 느껴진다. 이를 수정하면서 보기 좋게 만든다.
함수를 만드는 것도 마찬가지다. 처음에는 길고 복잡하다. 하지만 단위 테스트 케이스는 만들어야 한다. 코드를 다듬으면서 이름을 바꾸고, 중복을 제거하면서도 단위테스트도 통과해야 한다. (p. 61)
>

## **소감 및 생각**

💡 그렇다면 함수를 얼마나 잘게 쪼개야 하는가? 함수가 한 가지 기능만 하는지 어떻게 알 수 있는가?

💡 함수의 기능 정확히 설정해서, 추상화 수준을 유지하고 함수가 더러워지지 않도록 해야 한다.

💡 한 함수는 ‘~하려면, ~한다.’라는 형식을 띄고 하나의 기능만 해라.   
그리고 추상화 수준을 낮춰서, 다시 ‘~하려면, ~한다.’를 반복해라.

💡 ‘추상화’란 무엇인가? (내 생각)   
요구사항을 코드로 작성한 것? 코드는 기본적으로 요구사항을 추상화한 것이다. 추상화 단계가 높은 코드도 있고, 낮은 코드도 있다.   
추상화 단계가 높은 코드는 많은 단계가 요구되고, 요구사항 자체에 더 가까운 코드라는 의미이다. 추상화 단계가 낮은 코드는 간단한 기능을 수행하는 코드이다. 단계가 낮아질 수록 요구사항과의 거리는 멀어진다.

💡 저자는 플래그 인수를 추하다라고 한다.    함수 인수로 boolean 값을 넘긴다는 것 자체가 함수가 여러 가지를 처리한다는 뜻이기 때문이다.

💡 이항 함수, 삼항 함수는 가급적 사용하지 마라. 하지만 적절한 경우도 있다.   
좌표값을 저장하는 이항 함수, 부동소수점 비교 삼항 함수가 그 경우이다.

</aside>



<aside>
💡 인수가 2~3개 필요하다면, 그 인수를 객체로 만들어라.   객체화된 인수는 ‘개념’이 필요하다.

</aside>



<aside>
💡 중복을 제거하라라는 말을 생활코딩에서 많이 들었다.   함수를 사용함도 그와 비슷한 맥락에서 사용된다.   중복을 제거하면 코드의 가독성이 크게 올라간다.

</aside>



<aside>
💡 코드를 짜는 과정에서 중간에 테스트 할 수 있도록 코드를 짜야 한다.   즉 단위 테스트를 만들어야 한다.   이를 통해 코드가 흘러가는 과정과 잘못된 부분을 정확히 파악할 수 있다.

</aside>

함수는 결국 시스템의 부분이다. 시스템을 잘 풀어가기 위해서 함수는 분명하고 정확한 언어로 표현되어야 한다.

## ****새롭게 배운 개념****

❓ 다형성이란?  
하나의 객체 혹은 메소드가 여러 타입을 참조할 수 있음을 의미한다.

❓ 새로 알게 된 JAVA의 형식  
함수 StringBuffer transform(StringBuffer in)에 대해서,  
StringBuffer는 출력을, (StringBuffer in)은 입력을 의미한다.
